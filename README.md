

این اسکریپت شخصی را خودم نوشتم و برای این است که بتوان داخل سرور لینک ساب درست کرد و به افراد مختلف داد


با اجرای این دستور، اسکریپت install.sh دانلود شده و تمام مراحل نصب، دانلود فایل‌ها، ساخت سرویس و فعال‌سازی فایروال به صورت کاملاً خودکار انجام می‌شود. در پایان، سرور شما آماده ارائه لینک اشتراک خواهد بود.


 برای نصب اسکریپت میتونید از  اسکریپت زیر استفاده کنید :
```
bash <(curl -sL https://raw.githubusercontent.com/2amir563/khodamneveshtammyusersub/main/install.sh)
```
---

برای غیر فعال کردن فایروال
```
sudo ufw disable
```


```
curl -sL https://raw.githubusercontent.com/2amir563/khodamneveshtammyusersub/main/install.sh | sudo bash -s -- changeport
```
برای ان اینستال uninstall و حذف اسکریپت از سرور باید کد دستوری زیر را بزنیم

```
curl -sL https://raw.githubusercontent.com/2amir563/khodamneveshtammyusersub/main/install.sh | sudo bash -s -- uninstall
```

فایل sub_server.py را با ویرایشگر باز کنید:

Bash


```
nano /opt/sub_server/sub_server.py
```

کل محتوای links = { ... } قدیمی را پاک کرده و این کد جدید را به جای آن کپی و پیست کنید.

فایل را ذخیره کنید (Ctrl + X سپس Y و Enter).

سرویس را ری‌استارت کنید تا تغییرات اعمال شوند (این مرحله بسیار مهم است):

Bash


```
sudo systemctl restart subscription
```

وضعیت را بررسی کنید: sudo systemctl status subscription. این بار باید وضعیت active (running) را به رنگ سبز مشاهده کنید.
```
sudo systemctl status subscription
```
پس از این مراحل، سرور شما با لیست کاربران جدید به‌روز شده و همه چیز بدون هیچ اروری به درستی کار خواهد کرد.
..............................................................................................

برای استفاده از این اسکریپت فایل Create create_config.ps1 را در ویندوز دانلود کرده و انرا به وسیله پاور شل اجرا میکنیم و خروجی را در سرور در قسمت زیر جایگزین میکنیم

# فایل دوم: sub_server.py (کد اصلی برنامه سرور)
این کد برنامه اصلی شماست که روی سرور اجرا می‌شود. شما باید خروجی اسکریپت پاورشل را در بخش links = { ... } این فایل کپی کنید.

برای مدیریت کاربران (اضافه/حذف/ویرایش)، از اسکریپت پاورشل روی لپ‌تاپ خود استفاده کنید.

خروجی نهایی اسکریپت پاورشل (با فرمت پایتون) را در فایل sub_server.py روی سرور خود کپی کنید.

سرویس را روی سرور ری‌استارت کنید: sudo systemctl restart subscription.




لینک‌های جدید را به کاربران خود بدهید:

لینک علی: http://YOUR_IP:8080/f47ac10b-58cc-4372-a567-0e02b2c3d479

لینک سارا: http://YOUR_IP:8080/9c118b87-95c1-4320-a128-4835a7c125e1

حالا احتمال اینکه علی بتواند رشته طولانی و تصادفی سارا را حدس بزند، تقریباً صفر است. به این ترتیب، لینک هر کاربر منحصر به فرد و امن باقی می‌ماند.

و 
